<div ng-cloak class="align-content-center px-3 py-3">

    <!-- Bootstrap Breadcrumb Overview -->
    <div>
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="#">Home</a></li>
            <li class="breadcrumb-item active" aria-current="page">Group Chat: "Fisica Quantica II"</li>
          </ol>
        </nav>
    </div>

    <div class="row">
        <div class="col s12 m12">
            <div class="card bg-dark">
                <div class="card-body text-white pb-0">
                    <textarea class="form-control form-control-lg" rows="3" id="message" placeholder="Write message here..." ng-model="chatCtrl.newText"></textarea>
                </div>
                <div class="card-body text-right">
                    <input type="submit" class="btn btn-light" value="Send Message" ng-click="chatCtrl.postMsg(); chatCtrl.loadMessages();">
                </div>
            </div>
        </div>

    </div>

    <div>
        <!-- Here come the messages in the chat, each one presented in card -->
        <div ng-repeat="m in chatCtrl.messageList">
            <div class="row">
                <div class="col s12 m12">
                    <div class="card bg-light my-3 rounded">
                        <div class="card-header">
                            <h5 class="font-weight-bold">{{m.Name}} <small class="text-muted"> @{{m.username}}</small></h5>
                        </div>
                        <div class="card-body" >
                            <div class="card-title">

                            </div>
                            <div class="card-subtitle">
                            </div>
                            <div class="card-text">
                                <h4>{{m.text}}</h4>
                                <div class="text-right">
                                    <span class="text-muted font-italic">{{m.date_created}}</span>
                                </div>
                            </div>
                        </div>
                        <div class ="card-footer">
                            <a class="btn btn-dark text-white" role="button" ng-click="chatCtrl.likeMsg(m.mid); chatCtrl.loadMessages(); ">
                                <span class="oi oi-thumb-up" title="thumb-up" aria-hidden="true"></span> Like
                                <span ng-bind= "m.like"> </span>
                            </a>
                            <a class="btn btn-dark text-white" role="button" ng-click="chatCtrl.userLike(m.mid); ">
                                <span class="oi" title="thumb-down" aria-hidden="true"></span>
                                <p>Users who liked</p>
                            </a>
                            <a class="btn btn-dark text-white" role="button" ng-click="chatCtrl.dislikeMsg(); chatCtrl.loadMessages();">
                                <span class="oi oi-thumb-down" title="thumb-down" aria-hidden="true"></span> Unlike
                                <span ng-bind= "m.dislike"> </span>
                            </a>
                            <a class="btn btn-dark text-white" role="button" ng-click="chatCtrl.userDislike(m.mid); ">
                                <span class="oi" title="thumb-down" aria-hidden="true"></span>
                                <p>Users who disliked</p>
                            </a>
                            <a class="btn btn-dark text-white" role="button" ng-click="myReply=true">
                                <span class="oi oi-share" title="share" aria-hidden="true"></span> Reply
                            </a>
                            <div class="card bg-dark" ng-show="myReply">
                                <div class="card-body text-white pb-0">
                                    <textarea class="form-control form-control-lg" rows="3" id="reply_message" placeholder="Reply to message..." ng-model="chatCtrl.newReplyText"></textarea>
                                </div>
                                <div class="card-body text-right">
                                    <input type="submit" class="btn btn-light" value="Send Message" ng-click="chatCtrl.postReplyMsg(m.text, m.mid); chatCtrl.loadMessages();">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>